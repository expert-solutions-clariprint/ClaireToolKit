<html>
	<head>
		<title>
			Mail documentation
		</title>
		<style>
body
{
        font-size: 12px;
        font-family: arial, Helvetica;
        text-transform: inherit;
}


h1 { font-size: 25px; }

h2 { font-size: 20px; }

a[href]
{
	border-bottom: 1px dotted grey;
	text-decoration: none
}

.doc_paragraph
{
        font-size: 12px;
        font-family: arial, helvetica;
}

.item_header { font-size: 10px; page-break-before: avoid; page-break-inside: avoid; page-break-after: avoid }

.doc_code
{
        text-transform: inherit;
        font-size: 11px;
        font-family: monaco, courier, mono-space;
}
		</style>
		<link rel="stylesheet" type="text/css" href="doc.css" media="all">
	</head>
	<body>
	<h1>Mail v2.0.0  documentation</h1><p><i>Documentation generated by XL CLAIRE v3.3.37 at Fri, 17 Nov 2006</i></p><ul>
				<li><b>Author :</b> Sylvain BENILAN</li>
						</ul>
				<h1><a name='__category_index__'>Category index</a></h1>
		<ol><li><a href='#1082521505'>Class model</a>
</li>
			<li><a href='#1082528881'>Creating new messages</a>
</li>
			<li><a href='#1082532129'>Submitting content</a>
</li>
			<li><a href='#1082563841'>Sending message through SMTP</a>
</li>
			<li><a href='#1082565329'>Reading rough message</a>
</li>
			</ol>
		<h1><a name='__class_index__'>Class index</a></h1>
		<ul><li><font font-face='Courier' class='doc_code'><a href='#1082521505'>email</a>
<font color='blue'> &lt;: </font>ephemeral_object
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082521505'>multipart</a>
<font color='blue'> &lt;: </font>part
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082521505'>singlepart</a>
<font color='blue'> &lt;: </font>part
	</font></li>
			</ul>
		<h1><a name='__method_index__'>Method index</a></h1>
		<ul><li><font font-face='Courier' class='doc_code'><a href='#1082539985'>add_attachment</a>
(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>src</font><font color='blue'>:</font>string, <font color='green'>content-type</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082563137'>add_attachment</a>
(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>src</font><font color='blue'>:</font>string, <font color='green'>fname</font><font color='blue'>:</font>string, <font color='green'>content-type</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082528881'>email!</a>
()<font color='blue'> -&gt; </font>email
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082528881'>email!</a>
(<font color='green'>from</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>email
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082565329'>email!</a>
(<font color='green'>p</font><font color='blue'>:</font>port)<font color='blue'> -&gt; </font>email
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082528881'>email!</a>
(<font color='green'>from</font><font color='blue'>:</font>string, <font color='green'>to</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>email
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082528881'>email!</a>
(<font color='green'>from</font><font color='blue'>:</font>string, <font color='green'>tos</font><font color='blue'>:</font>subtype[string])<font color='blue'> -&gt; </font>email
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082532129'>end_of_part</a>
(<font color='green'>self</font><font color='blue'>:</font>email)<font color='blue'> -&gt; </font>void
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082532129'>print_in_alternative</a>
(<font color='green'>self</font><font color='blue'>:</font>email)<font color='blue'> -&gt; </font>multipart
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082532129'>print_in_email</a>
(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>content-type</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082532129'>print_in_email</a>
(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>content-type</font><font color='blue'>:</font>string, <font color='green'>content-transfer-encoding</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082532129'>print_in_mixed</a>
(<font color='green'>self</font><font color='blue'>:</font>email)<font color='blue'> -&gt; </font>multipart
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082532129'>print_in_related</a>
(<font color='green'>self</font><font color='blue'>:</font>email)<font color='blue'> -&gt; </font>multipart
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082563841'>smtp_send</a>
(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>smtp_server</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>void
	</font></li>
			<li><font font-face='Courier' class='doc_code'><a href='#1082563841'>smtp_send</a>
(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>smtp_server</font><font color='blue'>:</font>string, <font color='green'>smtp_from</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>void
	</font></li>
			</ul>
		<hr style='page-break-before: always; page-break-after: avoid' />
			<h1>Mail categories</h1>
		<a name='1082521505'><hr style='page-break-before: always' /></a>
		<table width='100%' class='item_header'>
		<tr>
			<td width='33%' align='left' valign='bottom'><i></i></td>
			<td width='33%' align='center' valign='top'><i><a href='#__category_index__'>categories</a><br/>Class model
				</i></td>
			<td width='33%' align='right' valign='bottom'><i></i></td>
		</tr>
	</table>
	<h2>Class model</h2>
	<ul><li><font font-face='Courier' class='doc_code'>email<font color='blue'> &lt;: </font>ephemeral_object
	</font></li><li><font font-face='Courier' class='doc_code'>multipart<font color='blue'> &lt;: </font>part
	</font></li><li><font font-face='Courier' class='doc_code'>singlepart<font color='blue'> &lt;: </font>part
	</font></li></ul><p align='justify' class='doc_paragraph'> An <b>email</b> object is described by parts organised into a hierarchy.
 The <b>email</b> class contain a mainpart slot that can be used to inspect
 the part hierarchy. Parts are either single (<b>singlepart</b>) providing
 a data slot of type port or multiple (<b>multipart</b>) providing a subparts
 slot containing children parts. All parts have their own mime headers
 that are handled with the bracket notation. For instance here is a
 simple method that dumps the part hierarchy of a message :
 <font size='2' face='Courier'>
										<table align=center width='85%' class='doc_code'>
										<tr><td font-face='Courier'><br/>&nbsp;<font color='black'>dump_parts</font>(<font color='black'>e</font><font color=blue>:</font><font color='black'>Mail</font>/<font color='#339966'>email</font>)&nbsp;<font color=blue>:</font>&nbsp;<font color='#339966'>void</font>&nbsp;<font color='#0000CC'>-&gt;</font><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='black'>dump_parts</font>(<font color='black'>e</font><font color=blue>.</font><font color='black'>Mail</font>/<font color='#666633'>mainpart</font>,&nbsp;<font color='#993333'>""</font>)<br/><br/>&nbsp;<font color='black'>dump_parts</font>(<font color='black'>p</font><font color=blue>:</font><font color='black'>Mail</font>/<font color='#339966'>singlepart</font>,&nbsp;<font color='black'>indent</font><font color=blue>:</font><font color='#339966'>string</font>)&nbsp;<font color=blue>:</font>&nbsp;<font color='#339966'>void</font>&nbsp;<font color='#0000CC'>-&gt;</font><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color='#0000CC'>printf</font></b>(<font color='#993333'>"~ASingle part (~A)\n"</font>,&nbsp;<font color='black'>indent</font>,&nbsp;<font color='black'>e</font>[<font color='#993333'>"Content-Type"</font>])<br/><br/>&nbsp;<font color='black'>dump_parts</font>(<font color='black'>p</font><font color=blue>:</font><font color='black'>Mail</font>/<font color='#339966'>multipart</font>,&nbsp;<font color='black'>indent</font><font color=blue>:</font><font color='#339966'>string</font>)&nbsp;<font color=blue>:</font>&nbsp;<font color='#339966'>void</font>&nbsp;<font color='#0000CC'>-&gt;</font><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color='#0000CC'>printf</font></b>(<font color='#993333'>"~AMulti part (~A)\n~I"</font>,&nbsp;<font color='black'>e</font>[<font color='#993333'>"Content-Type"</font>],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color='#0000CC'>for</font></b>&nbsp;<font color='black'>sp</font>&nbsp;<b><font color='#0000CC'>in</font></b>&nbsp;<font color='black'>p</font><font color=blue>.</font><font color='black'>Mail</font>/<font color='#666633'>subparts</font><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='black'>dump_parts</font>(<font color='black'>sp</font>,&nbsp;<font color='black'>indent</font>&nbsp;/<font color='#666633'>+</font>&nbsp;<font color='#993333'>" "</font>))<br/>&nbsp;<br/></td></tr></table></font></p><a name='1082528881'><hr style='page-break-before: always' /></a>
		<table width='100%' class='item_header'>
		<tr>
			<td width='33%' align='left' valign='bottom'><i></i></td>
			<td width='33%' align='center' valign='top'><i><a href='#__category_index__'>categories</a><br/>Creating new messages
				</i></td>
			<td width='33%' align='right' valign='bottom'><i></i></td>
		</tr>
	</table>
	<h2>Creating new messages</h2>
	<ul><li><font font-face='Courier' class='doc_code'>email!()<font color='blue'> -&gt; </font>email
	</font></li><li><font font-face='Courier' class='doc_code'>email!(<font color='green'>from</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>email
	</font></li><li><font font-face='Courier' class='doc_code'>email!(<font color='green'>from</font><font color='blue'>:</font>string, <font color='green'>to</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>email
	</font></li><li><font font-face='Courier' class='doc_code'>email!(<font color='green'>from</font><font color='blue'>:</font>string, <font color='green'>tos</font><font color='blue'>:</font>subtype[string])<font color='blue'> -&gt; </font>email
	</font></li></ul><p align='justify' class='doc_paragraph'> The mail module uses the object '<a href='#1082521505'><font color='#'>email</font></a>' to represent an <a href='#1082521505'><font color='#'>email</font></a>
 message. The <b>email!</b> method family is used to create a new instance of
 <a href='#1082521505'><font color='#'>email</font></a>. For instance let's create a new message with a single recipient :
 <font size='2' face='Courier'>
										<table align=center width='85%' class='doc_code'>
										<tr><td font-face='Courier'><br/>&nbsp;<font color='black'>msg</font>&nbsp;<font color=blue>:</font><font color=blue>:</font>&nbsp;<font color='black'>Mail</font>/<font color='#666633'>email!</font>(<font color='#993333'>"sbenilan@claire-language.com"</font>,&nbsp;<font color='#993333'>"someone@somedomain.com"</font>)<br/>&nbsp;<br/></td></tr></table></font> Mail headers are handled using the bracket notation, for instance :
 <font size='2' face='Courier'>
										<table align=center width='85%' class='doc_code'>
										<tr><td font-face='Courier'><br/>&nbsp;(<font color='black'>msg</font>[<font color='#993333'>"Subject"</font>]&nbsp;<font color=blue>:</font><font color='#666633'>=</font>&nbsp;<font color='#993333'>"[claire] Mail module is quite nice"</font>)<br/>&nbsp;<br/></td></tr></table></font> Notice that by default headers "Mime-Version", "Date", "Message-ID",
 "X-Mailer" are set automatically.</p><a name='1082532129'><hr style='page-break-before: always' /></a>
		<table width='100%' class='item_header'>
		<tr>
			<td width='33%' align='left' valign='bottom'><i></i></td>
			<td width='33%' align='center' valign='top'><i><a href='#__category_index__'>categories</a><br/>Submitting content
				</i></td>
			<td width='33%' align='right' valign='bottom'><i></i></td>
		</tr>
	</table>
	<h2>Submitting content</h2>
	<ul><li><font font-face='Courier' class='doc_code'><a href='#1082539985'>add_attachment</a>
(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>src</font><font color='blue'>:</font>string, <font color='green'>content-type</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</font></li><li><font font-face='Courier' class='doc_code'><a href='#1082563137'>add_attachment</a>
(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>src</font><font color='blue'>:</font>string, <font color='green'>fname</font><font color='blue'>:</font>string, <font color='green'>content-type</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</font></li><li><font font-face='Courier' class='doc_code'>end_of_part(<font color='green'>self</font><font color='blue'>:</font>email)<font color='blue'> -&gt; </font>void
	</font></li><li><font font-face='Courier' class='doc_code'>print_in_alternative(<font color='green'>self</font><font color='blue'>:</font>email)<font color='blue'> -&gt; </font>multipart
	</font></li><li><font font-face='Courier' class='doc_code'>print_in_email(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>content-type</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</font></li><li><font font-face='Courier' class='doc_code'>print_in_email(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>content-type</font><font color='blue'>:</font>string, <font color='green'>content-transfer-encoding</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</font></li><li><font font-face='Courier' class='doc_code'>print_in_mixed(<font color='green'>self</font><font color='blue'>:</font>email)<font color='blue'> -&gt; </font>multipart
	</font></li><li><font font-face='Courier' class='doc_code'>print_in_related(<font color='green'>self</font><font color='blue'>:</font>email)<font color='blue'> -&gt; </font>multipart
	</font></li></ul><p align='justify' class='doc_paragraph'> Once we have a message instance we may submit a content. The Mail module
 is intended to provide a convenient way for such a task and encourage
 the user to use the Wcl syntax within a redirection scope introduced by
 a balance usage of print_in_xxx/<b>end_of_part</b> methods. The <b>end_of_part</b>
 method would return a so called part object, the user should be
 familiar with the hierarchical structure of parts.</p><p align='justify' class='doc_paragraph'> In order to illustrate the usage of print_in_xxx/en_of_part here is a quite
 complete sample that creates a message embedding an attached document and
 composed of two alternatives, a plain text alternative and an HTML alternative
 that refers to an attached image :
 <font size='2' face='Courier'>
										<table align=center width='85%' class='doc_code'>
										<tr><td font-face='Courier'><br/>&nbsp;<font color='black'>msg</font>&nbsp;<font color=blue>:</font><font color=blue>:</font>&nbsp;<font color='black'>Mail</font>/<a href='#1082565329'><font color='#666633'>email!</font></a>(<font color='#993333'>"sbenilan@claire-language.com"</font>,&nbsp;<font color='#993333'>"someone@somedomain.com"</font>)<br/><br/>&nbsp;(<font color='black'>msg</font>[<font color='#993333'>"Subject"</font>]&nbsp;<font color=blue>:</font><font color='#666633'>=</font>&nbsp;<font color='#993333'>"Annual activity report"</font>,&nbsp;&nbsp;<font color='#FF9900'>// fill in the subject</font><br/>&nbsp;<font color='black'>Mail</font>/<font color='#666633'>print_in_related</font>(<font color='black'>msg</font>),<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='black'>Mail</font>/<font color='#666633'>print_in_alternative</font>(<font color='black'>msg</font>),&nbsp;<font color='#FF9900'>// we&#39;ll define both text and HTML alternative</font><br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='#FF9900'>// the text alternative</font><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='black'>Mail</font>/<font color='#666633'>print_in_email</font>(<font color='black'>msg</font>,&nbsp;<font color='#993333'>"text/plain; charset=ISO-8859-1"</font>),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='#0000CC'><b>?&gt;</b></font><font color='#777777'>Dear collaborator, please consult our annual report attached to this message</font><font color='#0000CC'><b>&lt;?</b><br></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='black'>Mail</font>/<font color='#666633'>end_of_part</font>(<font color='black'>e</font>),<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='#FF9900'>// the HTML alternative with a logo image</font><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='black'>Mail</font>/<font color='#666633'>print_in_email</font>(<font color='black'>msg</font>,&nbsp;<font color='#993333'>"text/html; charset=ISO-8859-1"</font>),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='#0000CC'><b>?&gt;</b></font><font color='#777777'>&lt;img src=&quot;cid:logo&quot;&gt;&lt;br&gt;<br>

         Dear collaborator,&lt;br&gt;<br>

         please consult our annual report attached to this message</font><font color='#0000CC'><b>&lt;?</b><br></font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='black'>Mail</font>/<font color='#666633'>end_of_part</font>(<font color='black'>msg</font>),<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='black'>Mail</font>/<font color='#666633'>end_of_part</font>(<font color='black'>msg</font>),<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='#FF9900'>// here we attach the logo image</font><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color='#0000CC'>let</font></b>&nbsp;<font color='black'>att</font>&nbsp;<font color=blue>:</font><font color='#666633'>=</font>&nbsp;<font color='black'>Mail</font>/<a href='#1082563137'><font color='#666633'>add_attachment</font></a>(<font color='black'>msg</font>,&nbsp;<font color='#993333'>"/path/to/logo.png"</font>,&nbsp;<font color='#993333'>"image/png"</font>)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font color='#0000CC'>in</font></b>&nbsp;<font color='black'>att</font>[<font color='#993333'>"Content-ID"</font>]&nbsp;<font color=blue>:</font><font color='#666633'>=</font>&nbsp;<font color='#993333'>"logo"</font>,<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='#FF9900'>// here we attach the PDF document</font><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font color='black'>Mail</font>/<a href='#1082563137'><font color='#666633'>add_attachment</font></a>(<font color='black'>msg</font>,&nbsp;<font color='#993333'>"/path/to/annual_report.pdf"</font>,&nbsp;<font color='#993333'>"application/pdf"</font>),<br/><br/>&nbsp;<font color='black'>Mail</font>/<font color='#666633'>end_of_part</font>(<font color='black'>msg</font>))<br/>&nbsp;<br/></td></tr></table></font></p><a name='1082563841'><hr style='page-break-before: always' /></a>
		<table width='100%' class='item_header'>
		<tr>
			<td width='33%' align='left' valign='bottom'><i></i></td>
			<td width='33%' align='center' valign='top'><i><a href='#__category_index__'>categories</a><br/>Sending message through SMTP
				</i></td>
			<td width='33%' align='right' valign='bottom'><i></i></td>
		</tr>
	</table>
	<h2>Sending message through SMTP</h2>
	<ul><li><font font-face='Courier' class='doc_code'>smtp_send(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>smtp_server</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>void
	</font></li><li><font font-face='Courier' class='doc_code'>smtp_send(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>smtp_server</font><font color='blue'>:</font>string, <font color='green'>smtp_from</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>void
	</font></li></ul><p align='justify' class='doc_paragraph'> Once a message has been properly filled we may send the message through
 SMTP using the <b>smtp_send</b> method. Unless smtp_from is specified the "From"
 header of the message will be used to identify the sender with the SMTP
 server. For instance :
 <font size='2' face='Courier'>
										<table align=center width='85%' class='doc_code'>
										<tr><td font-face='Courier'><br/>&nbsp;(<font color='black'>Mail</font>/<font color='black'>send</font>(<font color='black'>msg</font>,&nbsp;<font color='#993333'>"mailhost.somedomain.com"</font>))<br/>&nbsp;<br/></td></tr></table></font></p><a name='1082565329'><hr style='page-break-before: always' /></a>
		<table width='100%' class='item_header'>
		<tr>
			<td width='33%' align='left' valign='bottom'><i></i></td>
			<td width='33%' align='center' valign='top'><i><a href='#__category_index__'>categories</a><br/>Reading rough message
				</i></td>
			<td width='33%' align='right' valign='bottom'><i></i></td>
		</tr>
	</table>
	<h2>Reading rough message</h2>
	<ul><li><font font-face='Courier' class='doc_code'>email!(<font color='green'>p</font><font color='blue'>:</font>port)<font color='blue'> -&gt; </font>email
	</font></li></ul><p align='justify' class='doc_paragraph'> The Mail module also provide a way to create a message from a rough
 content that should be supplied (as a readable port) to <b>email!</b>. One
 can inspect message headers using bracket notation and also inspect its
 parts with the <a href='#1082521505'><font color='#'>email</font></a> object.</p><hr style='page-break-before: always; page-break-after: avoid' />
			<h1>Mail methods</h1>
		<a name='1082539985'><hr style='page-break-after: avoid' /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='#1082532129'>Submitting content</a>
</i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i>Mail method</i></td>
	</tr></table><h3>Mail/add_attachment(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>src</font><font color='blue'>:</font>string, <font color='green'>content-type</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</h3><p align='justify' class='doc_paragraph'> equivalent to add_attachment(<b>self</b>, <b>src</b>, fname, <b>content-type</b>) where fname
 has been constructed as the last path component of <b>src</b>.</p><a name='1082563137'><hr style='page-break-after: avoid' /></a>
	<table width='100%' class='item_header'>
		<tr>
			<td width='20%' align='left'><i><a href='#__category_index__'>categories</a></i></td>
			<td width='20%' align='center'><i><a href='#1082532129'>Submitting content</a>
</i></td><td width='20%' align='center'><i>normal dispatch</i></td>
	<td width='20%' align='center'><i></i></td><td width='20%' align='right'><i>Mail method</i></td>
	</tr></table><h3>Mail/add_attachment(<font color='green'>self</font><font color='blue'>:</font>email, <font color='green'>src</font><font color='blue'>:</font>string, <font color='green'>fname</font><font color='blue'>:</font>string, <font color='green'>content-type</font><font color='blue'>:</font>string)<font color='blue'> -&gt; </font>singlepart
	</h3><p align='justify' class='doc_paragraph'> add_attachment returns a new part added to the given <a href='#1082521505'><font color='#'>email</font></a>.
 it is convenient for attached document or a related image.
 In the latter case a Content-ID header may be defined such to
 link related parts.</p><p align='justify' class='doc_paragraph'> A "Content-Disposition" header is automatically added
 to the attachment part and set as inline and specifying <b>fname</b> as the
 file name that should be used for the image.</p></body>
	</html>